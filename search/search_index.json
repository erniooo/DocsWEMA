{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"HeyGen Interactive Avatar Demo","text":"<p>University Project Documentation Real-time interaction with AI-powered video avatars</p>"},{"location":"#what-is-this-demo","title":"What is this Demo?","text":"<p>This is a Laravel-based web application that demonstrates real-time interaction with HeyGen's AI-powered video avatars. Users can communicate with a live-streaming avatar through:</p> <ul> <li>Text Chat: Type messages that the avatar responds to</li> <li>Voice Input: Speak to the avatar using your microphone (speech-to-text)</li> <li>Two Interaction Modes:<ul> <li>Talk Mode: Avatar processes input through AI/LLM and generates intelligent responses</li> <li>Repeat Mode: Avatar echoes exactly what you say</li> </ul> </li> </ul>"},{"location":"#key-features","title":"Key Features","text":"Feature Description \ud83c\udfa5 Live Video Streaming Real-time video feed of the AI avatar via LiveKit WebRTC \ud83d\udcac Text Input Type messages and send to avatar \ud83c\udfa4 Voice Input Browser-based speech recognition (Web Speech API) \ud83c\udf19 Dark/Light Mode Theme toggle with localStorage persistence \u26a1 Session Management Start/stop streaming sessions to control API usage \ud83d\udcf1 Responsive Design Works on desktop and mobile browsers"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>PHP 7.3 or higher</li> <li>Composer</li> <li>HeyGen API Token (free 10 credits)</li> </ul>"},{"location":"#installation","title":"Installation","text":"<pre><code># 1. Install dependencies\ncomposer install\n\n# 2. Copy environment file\ncp .env.example .env\n\n# 3. Add your HeyGen API token to .env\n# HEYGEN_API_TOKEN=your_token_here\n\n# 4. Generate Laravel key\nphp artisan key:generate\n\n# 5. Clear cache\nphp artisan config:clear\n\n# 6. Start server\nphp artisan serve\n</code></pre>"},{"location":"#open-the-demo","title":"Open the Demo","text":"<p>Navigate to: http://localhost:8000/avatar</p>"},{"location":"#how-to-use","title":"How to Use","text":"<ol> <li>Click \"Start Session\" - Connects to HeyGen and loads the avatar</li> <li>Choose interaction mode:<ul> <li>Talk (AI Response): Avatar responds intelligently using AI</li> <li>Repeat (Echo): Avatar repeats exactly what you say</li> </ul> </li> <li>Interact:<ul> <li>Type a message and click \"Send\" or press Enter</li> <li>OR click the microphone button and speak</li> </ul> </li> <li>Click \"Close Session\" when done to save API credits</li> </ol>"},{"location":"#project-structure-overview","title":"Project Structure Overview","text":"<pre><code>ip-wemaconnect/\n\u251c\u2500\u2500 app/Http/Controllers/\n\u2502   \u2514\u2500\u2500 AvatarController.php      # Backend API logic\n\u251c\u2500\u2500 resources/views/\n\u2502   \u2514\u2500\u2500 avatar-demo.blade.php     # Frontend UI\n\u251c\u2500\u2500 config/\n\u2502   \u2514\u2500\u2500 services.php              # HeyGen configuration\n\u251c\u2500\u2500 routes/\n\u2502   \u2514\u2500\u2500 web.php                   # URL routes\n\u251c\u2500\u2500 docs/                         # This documentation\n\u2514\u2500\u2500 mkdocs.yml                    # MkDocs configuration\n</code></pre>"},{"location":"#navigation","title":"Navigation","text":"<p>Use the sidebar to navigate through the documentation:</p> <ul> <li>Architecture - System design and data flow</li> <li>File Reference - Important files explained</li> <li>How It Works - Step-by-step flow diagrams</li> <li>Code Deep-Dive - Key code explained</li> <li>API Reference - Endpoint documentation</li> <li>Configuration - Setup and environment variables</li> <li>Technology Stack - Technologies used</li> <li>Troubleshooting - Common issues and solutions</li> </ul>"},{"location":"api-reference/","title":"API Reference","text":"<p>This page documents all API endpoints used in the application.</p>"},{"location":"api-reference/#internal-endpoints-laravel","title":"Internal Endpoints (Laravel)","text":"<p>These are the endpoints exposed by the Laravel backend.</p>"},{"location":"api-reference/#get-avatar","title":"GET /avatar","text":"<p>Display the avatar demo page.</p> <p>Response: HTML page (avatar-demo.blade.php)</p> <p>Example: <pre><code>GET http://localhost:8000/avatar\n</code></pre></p>"},{"location":"api-reference/#post-avatarsessioncreate","title":"POST /avatar/session/create","text":"<p>Create and start a new HeyGen streaming session.</p> <p>Request Headers: <pre><code>Content-Type: application/json\nX-CSRF-TOKEN: &lt;csrf_token&gt;\n</code></pre></p> <p>Request Body: None required</p> <p>Response (Success - 200): <pre><code>{\n    \"success\": true,\n    \"session_info\": {\n        \"session_id\": \"se_abc123def456...\",\n        \"url\": \"wss://livekit-server.heygen.com\",\n        \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n    }\n}\n</code></pre></p> <p>Response (Error - 4xx/5xx): <pre><code>{\n    \"error\": \"Failed to create session\",\n    \"message\": \"Invalid API token\"\n}\n</code></pre></p> <p>Response Fields:</p> Field Type Description <code>success</code> boolean Whether request succeeded <code>session_info.session_id</code> string Unique session identifier <code>session_info.url</code> string LiveKit WebSocket URL <code>session_info.access_token</code> string JWT for LiveKit authentication"},{"location":"api-reference/#post-avatartask","title":"POST /avatar/task","text":"<p>Send text to the avatar to speak.</p> <p>Request Headers: <pre><code>Content-Type: application/json\nX-CSRF-TOKEN: &lt;csrf_token&gt;\n</code></pre></p> <p>Request Body: <pre><code>{\n    \"session_id\": \"se_abc123def456...\",\n    \"text\": \"Hello, how are you?\",\n    \"task_type\": \"talk\"\n}\n</code></pre></p> <p>Request Parameters:</p> Field Type Required Values Description <code>session_id</code> string Yes - Session ID from createSession <code>text</code> string Yes - Text for avatar to speak <code>task_type</code> string Yes <code>talk</code>, <code>repeat</code> Interaction mode <p>Task Types:</p> Value Behavior <code>talk</code> Avatar processes through AI and responds intelligently <code>repeat</code> Avatar echoes the exact text <p>Response (Success - 200): <pre><code>{\n    \"success\": true,\n    \"data\": {\n        \"task_id\": \"task_xyz789...\"\n    }\n}\n</code></pre></p> <p>Response (Error - 400): <pre><code>{\n    \"error\": \"Failed to send task\",\n    \"message\": \"Invalid session_id\"\n}\n</code></pre></p>"},{"location":"api-reference/#post-avatarsessionstop","title":"POST /avatar/session/stop","text":"<p>Stop and close the streaming session.</p> <p>Request Headers: <pre><code>Content-Type: application/json\nX-CSRF-TOKEN: &lt;csrf_token&gt;\n</code></pre></p> <p>Request Body: <pre><code>{\n    \"session_id\": \"se_abc123def456...\"\n}\n</code></pre></p> <p>Request Parameters:</p> Field Type Required Description <code>session_id</code> string Yes Session ID to stop <p>Response (Success - 200): <pre><code>{\n    \"success\": true,\n    \"data\": {}\n}\n</code></pre></p>"},{"location":"api-reference/#external-apis","title":"External APIs","text":"<p>These are the HeyGen APIs called by the Laravel backend.</p>"},{"location":"api-reference/#heygen-streaming-api","title":"HeyGen Streaming API","text":"<p>Base URL: <code>https://api.heygen.com</code></p> <p>Authentication: Bearer token in Authorization header</p> <pre><code>Authorization: Bearer &lt;your_api_token&gt;\n</code></pre>"},{"location":"api-reference/#post-v1streamingnew","title":"POST /v1/streaming.new","text":"<p>Create a new streaming session.</p> <p>Request: <pre><code>{\n    \"version\": \"v2\",\n    \"avatar_id\": \"Silas_CustomerSupport_public\"\n}\n</code></pre></p> <p>Response: <pre><code>{\n    \"data\": {\n        \"session_id\": \"se_abc123...\",\n        \"url\": \"wss://...\",\n        \"access_token\": \"eyJ...\"\n    }\n}\n</code></pre></p>"},{"location":"api-reference/#post-v1streamingstart","title":"POST /v1/streaming.start","text":"<p>Start the streaming session.</p> <p>Request: <pre><code>{\n    \"session_id\": \"se_abc123...\"\n}\n</code></pre></p>"},{"location":"api-reference/#post-v1streamingtask","title":"POST /v1/streaming.task","text":"<p>Send text for avatar to speak.</p> <p>Request: <pre><code>{\n    \"session_id\": \"se_abc123...\",\n    \"text\": \"Hello world\",\n    \"task_type\": \"talk\"\n}\n</code></pre></p>"},{"location":"api-reference/#post-v1streamingstop","title":"POST /v1/streaming.stop","text":"<p>Stop and close the session.</p> <p>Request: <pre><code>{\n    \"session_id\": \"se_abc123...\"\n}\n</code></pre></p>"},{"location":"api-reference/#api-flow-diagram","title":"API Flow Diagram","text":"<pre><code>Frontend                    Laravel Backend                 HeyGen API\n   \u2502                              \u2502                              \u2502\n   \u2502 POST /session/create         \u2502                              \u2502\n   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                              \u2502\n   \u2502                              \u2502 POST /v1/streaming.new       \u2502\n   \u2502                              \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n   \u2502                              \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502                              \u2502 POST /v1/streaming.start     \u2502\n   \u2502                              \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502                              \u2502                              \u2502\n   \u2502 POST /avatar/task            \u2502                              \u2502\n   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 POST /v1/streaming.task      \u2502\n   \u2502                              \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n   \u2502                              \u2502                              \u2502\n   \u2502 POST /session/stop           \u2502                              \u2502\n   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 POST /v1/streaming.stop      \u2502\n   \u2502                              \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n</code></pre>"},{"location":"api-reference/#http-status-codes","title":"HTTP Status Codes","text":"Code Meaning When Used 200 OK Request successful 400 Bad Request Invalid parameters 401 Unauthorized Invalid API token 500 Server Error Internal error"},{"location":"api-reference/#documentation-links","title":"Documentation Links","text":"<ul> <li>HeyGen API Documentation</li> <li>HeyGen Streaming API</li> <li>LiveKit Documentation</li> </ul>"},{"location":"architecture/","title":"Architecture","text":"<p>This page explains the system architecture and how data flows through the application.</p>"},{"location":"architecture/#system-architecture-diagram","title":"System Architecture Diagram","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                              USER BROWSER                                \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                    avatar-demo.blade.php                         \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u2502   \u2502\n\u2502  \u2502  \u2502 Video Player \u2502  \u2502  Chat Input  \u2502  \u2502 Speech Recognition \u2502    \u2502   \u2502\n\u2502  \u2502  \u2502  (LiveKit)   \u2502  \u2502   (Text)     \u2502  \u2502  (Web Speech API)  \u2502    \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                    HTTP/HTTPS (AJAX Requests)\n                                \u2502\n                                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         LARAVEL BACKEND                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                     AvatarController.php                         \u2502   \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510          \u2502   \u2502\n\u2502  \u2502  \u2502createSession \u2502  \u2502  sendTask    \u2502  \u2502 stopSession  \u2502          \u2502   \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518          \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                               \u2502\n\u2502  \u2502 config/services \u2502  \u2502    routes/web   \u2502                               \u2502\n\u2502  \u2502    (HeyGen)     \u2502  \u2502   (Endpoints)   \u2502                               \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                    HTTPS (API Requests)\n                                \u2502\n                                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                          HEYGEN API                                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502                    Streaming API v1                              \u2502   \u2502\n\u2502  \u2502  /v1/streaming.new  \u2192  Creates new session                       \u2502   \u2502\n\u2502  \u2502  /v1/streaming.start \u2192  Starts video streaming                   \u2502   \u2502\n\u2502  \u2502  /v1/streaming.task  \u2192  Sends text for avatar to speak           \u2502   \u2502\n\u2502  \u2502  /v1/streaming.stop  \u2192  Stops and closes session                 \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                \u2502\n                    WebRTC (LiveKit Protocol)\n                                \u2502\n                                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         LIVEKIT ROOM                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  Real-time video/audio streaming back to browser                 \u2502   \u2502\n\u2502  \u2502  - Video track: Avatar video feed                                \u2502   \u2502\n\u2502  \u2502  - Audio track: Avatar speech output                             \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/#data-flow-summary","title":"Data Flow Summary","text":"Step From To Protocol Data 1 Browser Laravel HTTP POST Session request 2 Laravel HeyGen API HTTPS Create session request 3 HeyGen API Laravel HTTPS Session credentials 4 Laravel Browser HTTP LiveKit access token 5 Browser LiveKit WebRTC Connect with token 6 LiveKit Browser WebRTC Video/Audio stream"},{"location":"architecture/#component-responsibilities","title":"Component Responsibilities","text":""},{"location":"architecture/#frontend-browser","title":"Frontend (Browser)","text":"Component Responsibility Video Player Display LiveKit video stream Chat Input Capture text messages from user Speech Recognition Convert voice to text Session Controls Start/Stop buttons Theme Toggle Dark/Light mode switching"},{"location":"architecture/#backend-laravel","title":"Backend (Laravel)","text":"Component Responsibility AvatarController Handle all API requests Routes Define URL endpoints Config Store HeyGen credentials"},{"location":"architecture/#external-services","title":"External Services","text":"Service Responsibility HeyGen API Create sessions, process text, generate avatar responses LiveKit Stream real-time video/audio to browser"},{"location":"architecture/#why-this-architecture","title":"Why This Architecture?","text":"<ol> <li>Security: API token stays on server, never exposed to browser</li> <li>Simplicity: Single controller handles all HeyGen communication</li> <li>Real-time: LiveKit provides low-latency video streaming</li> <li>Scalability: Could easily add more features without major refactoring</li> </ol>"},{"location":"code-deep-dive/","title":"Code Deep-Dive","text":"<p>This page explains the key code sections in detail.</p>"},{"location":"code-deep-dive/#backend-avatarcontrollerphp","title":"Backend: AvatarController.php","text":""},{"location":"code-deep-dive/#constructor","title":"Constructor","text":"<pre><code>class AvatarController extends Controller\n{\n    private $apiUrl;      // HeyGen API base URL\n    private $apiToken;    // Your HeyGen API key\n    private $avatarId;    // Which avatar to use\n\n    public function __construct()\n    {\n        // Load configuration from config/services.php (which reads from .env)\n        $this-&gt;apiUrl = config('services.heygen.api_url');\n        $this-&gt;apiToken = config('services.heygen.api_token');\n        $this-&gt;avatarId = config('services.heygen.avatar_id');\n    }\n}\n</code></pre> <p>Explanation: The constructor loads HeyGen configuration from Laravel's config system. This allows credentials to be stored securely in <code>.env</code> and accessed via <code>config()</code>.</p>"},{"location":"code-deep-dive/#createsession-method","title":"createSession() Method","text":"<pre><code>public function createSession(Request $request)\n{\n    // Step 1: Create a new streaming session\n    $response = Http::withHeaders([\n        'Authorization' =&gt; 'Bearer ' . $this-&gt;apiToken,\n    ])-&gt;post($this-&gt;apiUrl . '/v1/streaming.new', [\n        'version' =&gt; 'v2',\n        'avatar_id' =&gt; $this-&gt;avatarId,\n    ]);\n\n    $sessionInfo = $response-&gt;json();\n\n    // Step 2: Start the streaming session\n    $startResponse = Http::withHeaders([\n        'Authorization' =&gt; 'Bearer ' . $this-&gt;apiToken,\n    ])-&gt;post($this-&gt;apiUrl . '/v1/streaming.start', [\n        'session_id' =&gt; $sessionInfo['data']['session_id'],\n    ]);\n\n    // Return session info with LiveKit credentials to frontend\n    return response()-&gt;json([\n        'success' =&gt; true,\n        'session_info' =&gt; $sessionInfo['data']\n        // Contains: session_id, url (LiveKit), access_token\n    ]);\n}\n</code></pre> <p>Key Points:</p> Line Purpose <code>Http::withHeaders()</code> Laravel HTTP client with Bearer token <code>/v1/streaming.new</code> Creates new HeyGen session <code>/v1/streaming.start</code> Starts the video stream <code>$sessionInfo['data']</code> Contains session_id, url, access_token"},{"location":"code-deep-dive/#sendtask-method","title":"sendTask() Method","text":"<pre><code>public function sendTask(Request $request)\n{\n    // Validate input\n    $request-&gt;validate([\n        'session_id' =&gt; 'required|string',\n        'text' =&gt; 'required|string',\n        'task_type' =&gt; 'required|in:talk,repeat'\n    ]);\n\n    // Send text to HeyGen for avatar to speak\n    $response = Http::withHeaders([\n        'Authorization' =&gt; 'Bearer ' . $this-&gt;apiToken,\n    ])-&gt;post($this-&gt;apiUrl . '/v1/streaming.task', [\n        'session_id' =&gt; $request-&gt;session_id,\n        'text' =&gt; $request-&gt;text,\n        'task_type' =&gt; $request-&gt;task_type,  // 'talk' or 'repeat'\n    ]);\n\n    return response()-&gt;json(['success' =&gt; true]);\n}\n</code></pre> <p>Validation Rules:</p> Field Rule Meaning session_id <code>required\\|string</code> Must be provided, must be string text <code>required\\|string</code> Must be provided, must be string task_type <code>required\\|in:talk,repeat</code> Must be either \"talk\" or \"repeat\""},{"location":"code-deep-dive/#frontend-avatar-demobladephp","title":"Frontend: avatar-demo.blade.php","text":""},{"location":"code-deep-dive/#global-state-variables","title":"Global State Variables","text":"<pre><code>let sessionInfo = null;    // Stores session_id, url, access_token\nlet room = null;           // LiveKit Room instance\nlet mediaStream = null;    // MediaStream for video/audio tracks\nlet isRecording = false;   // Voice recording state\nlet recognition = null;    // SpeechRecognition instance\n</code></pre> <p>These variables maintain the application state throughout the session.</p>"},{"location":"code-deep-dive/#creating-a-session-frontend","title":"Creating a Session (Frontend)","text":"<pre><code>async function createSession() {\n    // 1. Call backend to create session\n    const response = await fetch(`${API_BASE_URL}/avatar/session/create`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRF-TOKEN': CSRF_TOKEN  // Laravel CSRF protection\n        }\n    });\n\n    const data = await response.json();\n    sessionInfo = data.session_info;\n\n    // 2. Initialize LiveKit\n    room = new LivekitClient.Room();\n\n    // 3. Connect to LiveKit room using HeyGen-provided credentials\n    await room.connect(sessionInfo.url, sessionInfo.access_token);\n\n    // 4. Handle incoming video/audio tracks\n    room.on(LivekitClient.RoomEvent.TrackSubscribed, (track) =&gt; {\n        if (track.kind === 'video' || track.kind === 'audio') {\n            mediaStream.addTrack(track.mediaStreamTrack);\n            mediaElement.srcObject = mediaStream;\n            mediaElement.play();\n        }\n    });\n}\n</code></pre> <p>Key Concepts:</p> Concept Explanation <code>X-CSRF-TOKEN</code> Laravel security token to prevent cross-site request forgery <code>LivekitClient.Room()</code> Creates new LiveKit room instance <code>room.connect()</code> Connects to LiveKit server using token from HeyGen <code>TrackSubscribed</code> Event fired when video/audio track is available"},{"location":"code-deep-dive/#speech-recognition-setup","title":"Speech Recognition Setup","text":"<pre><code>function initializeSpeechRecognition() {\n    // Check for browser support (Chrome/Edge prefix)\n    const SpeechRecognition = window.SpeechRecognition || \n                              window.webkitSpeechRecognition;\n\n    if (SpeechRecognition) {\n        recognition = new SpeechRecognition();\n        recognition.continuous = true;       // Keep listening\n        recognition.interimResults = false;  // Only final results\n        recognition.lang = 'en-US';          // Language\n\n        recognition.onresult = (event) =&gt; {\n            const transcript = event.results[0][0].transcript;\n            taskInput.value = transcript;\n\n            if (event.results[0].isFinal) {\n                stopRecording();\n                if (transcript.trim()) {\n                    sendText(transcript);  // Auto-send to avatar\n                }\n            }\n        };\n\n        recognition.onerror = (event) =&gt; {\n            console.error('Speech recognition error:', event.error);\n            showError('Speech recognition failed: ' + event.error);\n            stopRecording();\n        };\n    }\n}\n</code></pre> <p>Configuration Options:</p> Option Value Meaning <code>continuous</code> <code>true</code> Keeps listening until manually stopped <code>interimResults</code> <code>false</code> Only fires event for final transcription <code>lang</code> <code>'en-US'</code> Recognition language"},{"location":"code-deep-dive/#dark-mode-implementation","title":"Dark Mode Implementation","text":"<p>JavaScript: <pre><code>// Toggle theme on button click\nthemeToggle.addEventListener('click', () =&gt; {\n    const theme = html.getAttribute('data-theme');\n    const newTheme = theme === 'light' ? 'dark' : 'light';\n\n    html.setAttribute('data-theme', newTheme);\n    localStorage.setItem('theme', newTheme);  // Persist preference\n});\n</code></pre></p> <p>CSS Variables: <pre><code>/* Light mode (default) */\n:root {\n    --bg-primary: #f5f5f5;\n    --text-primary: #1a1a1a;\n}\n\n/* Dark mode */\n[data-theme=\"dark\"] {\n    --bg-primary: #0f0f0f;\n    --text-primary: #f0f0f0;\n}\n\n/* Usage */\nbody {\n    background: var(--bg-primary);\n    color: var(--text-primary);\n}\n</code></pre></p> <p>How it works:</p> <ol> <li>CSS defines variables for both light and dark themes</li> <li>JavaScript toggles <code>data-theme</code> attribute on <code>&lt;html&gt;</code></li> <li>CSS selectors like <code>[data-theme=\"dark\"]</code> override default variables</li> <li><code>localStorage</code> remembers user preference across page loads</li> </ol>"},{"location":"code-deep-dive/#error-handling","title":"Error Handling","text":""},{"location":"code-deep-dive/#backend-laravel","title":"Backend (Laravel)","text":"<pre><code>try {\n    // API call\n} catch (\\Exception $e) {\n    Log::error('Exception in createSession', [\n        'message' =&gt; $e-&gt;getMessage(),\n        'trace' =&gt; $e-&gt;getTraceAsString()\n    ]);\n    return response()-&gt;json([\n        'error' =&gt; 'Server error',\n        'message' =&gt; $e-&gt;getMessage()\n    ], 500);\n}\n</code></pre>"},{"location":"code-deep-dive/#frontend-javascript","title":"Frontend (JavaScript)","text":"<pre><code>function showError(message) {\n    errorMessage.textContent = message;\n    errorMessage.classList.add('show');\n    setTimeout(() =&gt; {\n        errorMessage.classList.remove('show');\n    }, 5000);  // Auto-hide after 5 seconds\n}\n</code></pre>"},{"location":"configuration/","title":"Configuration Guide","text":"<p>This page explains how to configure the application.</p>"},{"location":"configuration/#environment-variables","title":"Environment Variables","text":"<p>All configuration is done through the <code>.env</code> file in the project root.</p>"},{"location":"configuration/#required-variables","title":"Required Variables","text":"<pre><code># HeyGen Configuration (REQUIRED)\nHEYGEN_API_URL=https://api.heygen.com\nHEYGEN_API_TOKEN=your_api_token_here\nHEYGEN_AVATAR_ID=Silas_CustomerSupport_public\n\n# Laravel Configuration (REQUIRED)\nAPP_KEY=base64:...\nAPP_URL=http://localhost:8000\n</code></pre>"},{"location":"configuration/#variable-reference","title":"Variable Reference","text":"Variable Required Default Description <code>HEYGEN_API_URL</code> Yes <code>https://api.heygen.com</code> HeyGen API base URL <code>HEYGEN_API_TOKEN</code> Yes None Your HeyGen API key <code>HEYGEN_AVATAR_ID</code> Yes <code>Silas_CustomerSupport_public</code> Avatar to use <code>APP_KEY</code> Yes None Laravel encryption key <code>APP_URL</code> Yes <code>http://localhost</code> Application URL"},{"location":"configuration/#getting-your-heygen-api-token","title":"Getting Your HeyGen API Token","text":""},{"location":"configuration/#step-by-step","title":"Step-by-Step","text":"<ol> <li> <p>Go to HeyGen website <pre><code>https://www.heygen.com/\n</code></pre></p> </li> <li> <p>Create account or sign in</p> </li> <li> <p>Navigate to API settings <pre><code>Dashboard \u2192 Settings \u2192 API Keys\n</code></pre></p> </li> <li> <p>Generate new API key</p> </li> <li>Click \"Generate API Key\"</li> <li> <p>Copy the generated token</p> </li> <li> <p>Add to .env file <pre><code>HEYGEN_API_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\n</code></pre></p> </li> </ol> <p>Keep Your Token Secret</p> <p>Never commit your API token to version control or share it publicly.</p>"},{"location":"configuration/#configuration-flow","title":"Configuration Flow","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    .env file    \u2502\n\u2502                 \u2502\n\u2502 HEYGEN_API_URL  \u2502\n\u2502 HEYGEN_API_TOKEN\u2502\n\u2502 HEYGEN_AVATAR_ID\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2502 env() function\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  config/services.php    \u2502\n\u2502                         \u2502\n\u2502  'heygen' =&gt; [          \u2502\n\u2502    'api_url' =&gt; env()   \u2502\n\u2502    'api_token' =&gt; env() \u2502\n\u2502    'avatar_id' =&gt; env() \u2502\n\u2502  ]                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u2502 config() function\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  AvatarController.php   \u2502\n\u2502                         \u2502\n\u2502  $this-&gt;apiUrl =        \u2502\n\u2502    config('services...') \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"configuration/#available-avatars","title":"Available Avatars","text":"<p>The default avatar is <code>Silas_CustomerSupport_public</code>, a public interactive avatar optimized for customer support interactions.</p>"},{"location":"configuration/#changing-the-avatar","title":"Changing the Avatar","text":"<ol> <li>Find avatar ID in HeyGen dashboard</li> <li>Update <code>.env</code>:    <pre><code>HEYGEN_AVATAR_ID=your_chosen_avatar_id\n</code></pre></li> <li>Clear config cache:    <pre><code>php artisan config:clear\n</code></pre></li> </ol>"},{"location":"configuration/#laravel-configuration","title":"Laravel Configuration","text":""},{"location":"configuration/#generate-application-key","title":"Generate Application Key","text":"<pre><code>php artisan key:generate\n</code></pre> <p>This sets <code>APP_KEY</code> in your <code>.env</code> file automatically.</p>"},{"location":"configuration/#clear-configuration-cache","title":"Clear Configuration Cache","text":"<p>After any <code>.env</code> changes:</p> <pre><code>php artisan config:clear\nphp artisan cache:clear\n</code></pre>"},{"location":"configuration/#production-configuration","title":"Production Configuration","text":"<p>For production deployment, update these settings:</p> <pre><code>APP_ENV=production\nAPP_DEBUG=false\nAPP_URL=https://your-domain.com\n\n# Use HTTPS\nHEYGEN_API_URL=https://api.heygen.com\n</code></pre> <p>HTTPS Required</p> <p>Voice input (microphone) requires HTTPS in production browsers.</p>"},{"location":"configuration/#verification-script","title":"Verification Script","text":"<p>Run the setup verification script to check configuration:</p> <pre><code>php check-setup.php\n</code></pre> <p>Output example: <pre><code>================================================\n   HeyGen Avatar Demo - Setup Verification     \n================================================\n\n\u2713 Checking if .env file exists...\n\u2713 Checking HeyGen API configuration...\n\u2713 Checking required files...\n\u2713 Checking routes configuration...\n\u2713 Checking PHP version...\n\u2713 Checking Composer dependencies...\n\n================================================\n               RESULTS                          \n================================================\n\n\u2713 SUCCESS (8):\n  \u2713 .env file exists\n  \u2713 HEYGEN_API_URL is set: https://api.heygen.com\n  \u2713 HEYGEN_API_TOKEN is set (length: 156 chars)\n  \u2713 HEYGEN_AVATAR_ID is set: Silas_CustomerSupport_public\n  ...\n\n================================================\n\u2713 ALL CHECKS PASSED!\n\nYou're ready to start the demo:\n  1. Run: php artisan serve\n  2. Open: http://localhost:8000/avatar\n  3. Click 'Start Session' and enjoy!\n</code></pre></p>"},{"location":"configuration/#config-file-reference","title":"Config File Reference","text":""},{"location":"configuration/#configservicesphp","title":"config/services.php","text":"<pre><code>'heygen' =&gt; [\n    'api_url' =&gt; env('HEYGEN_API_URL', 'https://api.heygen.com'),\n    'api_token' =&gt; env('HEYGEN_API_TOKEN'),\n    'avatar_id' =&gt; env('HEYGEN_AVATAR_ID', 'Silas_CustomerSupport_public'),\n],\n</code></pre> Key env() Parameter Default Value <code>api_url</code> <code>HEYGEN_API_URL</code> <code>https://api.heygen.com</code> <code>api_token</code> <code>HEYGEN_API_TOKEN</code> <code>null</code> <code>avatar_id</code> <code>HEYGEN_AVATAR_ID</code> <code>Silas_CustomerSupport_public</code>"},{"location":"configuration/#security-best-practices","title":"Security Best Practices","text":"<ol> <li>Never commit <code>.env</code> - Already in <code>.gitignore</code></li> <li>Use environment variables - Not hardcoded values</li> <li>Rotate API tokens - Periodically regenerate</li> <li>Use HTTPS - Required for production</li> <li>Set <code>APP_DEBUG=false</code> - In production</li> </ol>"},{"location":"file-reference/","title":"File Reference","text":"<p>This page documents all important files in the project and their purposes.</p>"},{"location":"file-reference/#critical-files","title":"Critical Files","text":"<p>These are the most important files you need to understand:</p> File Location Importance Description <code>AvatarController.php</code> <code>app/Http/Controllers/</code> \u2b50\u2b50\u2b50 CRITICAL All backend logic - API calls to HeyGen <code>avatar-demo.blade.php</code> <code>resources/views/</code> \u2b50\u2b50\u2b50 CRITICAL Complete frontend - UI, JavaScript, styling <code>web.php</code> <code>routes/</code> \u2b50\u2b50 Important Defines URL routes <code>services.php</code> <code>config/</code> \u2b50\u2b50 Important HeyGen configuration <code>.env</code> Root \u2b50\u2b50 Important API credentials (never commit!)"},{"location":"file-reference/#file-details","title":"File Details","text":""},{"location":"file-reference/#avatarcontrollerphp","title":"AvatarController.php","text":"<p>Location: <code>app/Http/Controllers/AvatarController.php</code></p> <p>Purpose: Backend controller that handles all communication with HeyGen API.</p> <p>Methods:</p> Method Purpose <code>index()</code> Returns the avatar demo view <code>createSession()</code> Creates new HeyGen session + starts streaming <code>sendTask()</code> Sends text to avatar (talk or repeat mode) <code>stopSession()</code> Stops the streaming session"},{"location":"file-reference/#avatar-demobladephp","title":"avatar-demo.blade.php","text":"<p>Location: <code>resources/views/avatar-demo.blade.php</code></p> <p>Purpose: Complete single-page application containing:</p> <ul> <li>HTML structure</li> <li>CSS styling (with dark mode support)</li> <li>JavaScript for all interactions</li> </ul> <p>Key Sections:</p> Section Purpose <code>&lt;style&gt;</code> CSS variables for theming, layout styles Video Container HTML5 video element for LiveKit stream Controls Sidebar Chat input, task type selector, mic button <code>&lt;script&gt;</code> All JavaScript logic"},{"location":"file-reference/#webphp","title":"web.php","text":"<p>Location: <code>routes/web.php</code></p> <p>Purpose: Defines all URL routes for the application.</p> <pre><code>Route::get('/avatar', [AvatarController::class, 'index']);\nRoute::post('/avatar/session/create', [AvatarController::class, 'createSession']);\nRoute::post('/avatar/task', [AvatarController::class, 'sendTask']);\nRoute::post('/avatar/session/stop', [AvatarController::class, 'stopSession']);\n</code></pre>"},{"location":"file-reference/#servicesphp","title":"services.php","text":"<p>Location: <code>config/services.php</code></p> <p>Purpose: Configuration file that reads HeyGen settings from <code>.env</code></p> <pre><code>'heygen' =&gt; [\n    'api_url' =&gt; env('HEYGEN_API_URL', 'https://api.heygen.com'),\n    'api_token' =&gt; env('HEYGEN_API_TOKEN'),\n    'avatar_id' =&gt; env('HEYGEN_AVATAR_ID', 'Silas_CustomerSupport_public'),\n],\n</code></pre>"},{"location":"file-reference/#env","title":".env","text":"<p>Location: Project root</p> <p>Purpose: Stores sensitive configuration (API keys, database credentials)</p> <p>Security</p> <p>Never commit <code>.env</code> to version control! It contains your secret API token.</p>"},{"location":"file-reference/#supporting-files","title":"Supporting Files","text":"File Purpose <code>.env.example</code> Template showing required environment variables <code>check-setup.php</code> Script to verify installation is correct <code>HEYGEN_SETUP.md</code> Setup instructions <code>QUICK_START.md</code> Quick setup guide <code>PROJECT_SUMMARY.md</code> Project overview <code>composer.json</code> PHP dependencies <code>package.json</code> Node.js dependencies (if any)"},{"location":"file-reference/#laravel-framework-directories","title":"Laravel Framework Directories","text":"Directory Purpose <code>app/</code> Application code (Controllers, Models, Services) <code>bootstrap/</code> Framework bootstrap files <code>config/</code> Configuration files <code>database/</code> Migrations and seeders <code>public/</code> Public assets (index.php entry point) <code>resources/</code> Views, CSS, JavaScript <code>routes/</code> Route definitions <code>storage/</code> Logs, cache, compiled views <code>vendor/</code> Composer dependencies (auto-generated)"},{"location":"file-reference/#file-dependency-graph","title":"File Dependency Graph","text":"<pre><code>.env\n  \u2502\n  \u2514\u2500\u2500\u25b6 config/services.php (reads env vars)\n         \u2502\n         \u2514\u2500\u2500\u25b6 AvatarController.php (reads config)\n                \u2502\n                \u2514\u2500\u2500\u25b6 HeyGen API (uses credentials)\n\nroutes/web.php\n  \u2502\n  \u2514\u2500\u2500\u25b6 AvatarController.php (routes to controller)\n         \u2502\n         \u2514\u2500\u2500\u25b6 avatar-demo.blade.php (returns view)\n</code></pre>"},{"location":"how-it-works/","title":"How It Works","text":"<p>This page provides detailed flow diagrams explaining each major operation in the demo.</p>"},{"location":"how-it-works/#flow-1-starting-a-session","title":"Flow 1: Starting a Session","text":"<p>When the user clicks \"Start Session\", the following sequence occurs:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502    \u2502    Frontend     \u2502    \u2502     Backend     \u2502    \u2502  HeyGen API  \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502 Click \"Start\"     \u2502                      \u2502                     \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502 POST /session/create \u2502                     \u2502\n     \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502 POST /streaming.new \u2502\n     \u2502                   \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502   {session_id}      \u2502\n     \u2502                   \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502 POST /streaming.start\n     \u2502                   \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502 {url, access_token} \u2502\n     \u2502                   \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502 {session_info}       \u2502                     \u2502\n     \u2502                   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502 Connect to LiveKit   \u2502                     \u2502\n     \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\n     \u2502                   \u2502                      \u2502                     \u2502  LiveKit\n     \u2502  Video appears    \u2502                      \u2502                     \u2502  Room\n     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n     \u2502                   \u2502                      \u2502                     \u2502\n</code></pre>"},{"location":"how-it-works/#step-by-step-breakdown","title":"Step-by-Step Breakdown","text":"Step Action Details 1 User clicks \"Start Session\" Button triggers <code>createSession()</code> JavaScript function 2 Frontend sends POST request AJAX call to <code>/avatar/session/create</code> 3 Backend calls HeyGen <code>POST /v1/streaming.new</code> with avatar_id 4 HeyGen returns session_id Unique identifier for this session 5 Backend starts streaming <code>POST /v1/streaming.start</code> with session_id 6 HeyGen returns credentials LiveKit URL and access_token 7 Backend responds to frontend All session info returned as JSON 8 Frontend connects to LiveKit Creates Room, connects with token 9 Video stream appears LiveKit streams video/audio to browser"},{"location":"how-it-works/#flow-2-sending-a-message","title":"Flow 2: Sending a Message","text":"<p>When the user types a message and clicks \"Send\":</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502    \u2502    Frontend     \u2502    \u2502     Backend     \u2502    \u2502  HeyGen API  \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502 Type \"Hello\"      \u2502                      \u2502                     \u2502\n     \u2502 + Click Send      \u2502                      \u2502                     \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502 POST /avatar/task    \u2502                     \u2502\n     \u2502                   \u2502 {session_id, text,   \u2502                     \u2502\n     \u2502                   \u2502  task_type: \"talk\"}  \u2502                     \u2502\n     \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502 POST /streaming.task\u2502\n     \u2502                   \u2502                      \u2502 {session_id, text,  \u2502\n     \u2502                   \u2502                      \u2502  task_type}         \u2502\n     \u2502                   \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502    {success}        \u2502\n     \u2502                   \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502    {success}         \u2502                     \u2502\n     \u2502                   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502 Avatar speaks     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n     \u2502 via LiveKit       \u2502                      \u2502                     \u2502 LiveKit\n     \u2502                   \u2502                      \u2502                     \u2502 Stream\n</code></pre>"},{"location":"how-it-works/#task-types-explained","title":"Task Types Explained","text":"Task Type Behavior Use Case <code>talk</code> Avatar processes text through AI/LLM and responds intelligently Natural conversation <code>repeat</code> Avatar simply repeats the exact text you sent Testing, demonstrations"},{"location":"how-it-works/#flow-3-voice-input","title":"Flow 3: Voice Input","text":"<p>When the user uses the microphone:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502    \u2502              Frontend                    \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518    \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n     \u2502          \u2502  \u2502 Speech          \u2502  \u2502   sendText() \u2502  \u2502\n     \u2502          \u2502  \u2502 Recognition     \u2502  \u2502              \u2502  \u2502\n     \u2502          \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n     \u2502                      \u2502                   \u2502          \u2502\n     \u2502 Click Mic Button     \u2502                   \u2502          \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                   \u2502          \u2502\n     \u2502                      \u2502                   \u2502          \u2502\n     \u2502 Speak \"Hello World\"  \u2502                   \u2502          \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                   \u2502          \u2502\n     \u2502                      \u2502                   \u2502          \u2502\n     \u2502                      \u2502 onresult event    \u2502          \u2502\n     \u2502                      \u2502 transcript:       \u2502          \u2502\n     \u2502                      \u2502 \"Hello World\"     \u2502          \u2502\n     \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502          \u2502\n     \u2502                      \u2502                   \u2502          \u2502\n     \u2502                      \u2502                   \u2502 POST     \u2502\n     \u2502                      \u2502                   \u2502 /task    \u2502\n     \u2502                      \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 (same as text)\n</code></pre>"},{"location":"how-it-works/#speech-recognition-process","title":"Speech Recognition Process","text":"Step Action 1 User clicks microphone button 2 Browser's Web Speech API starts listening 3 User speaks into microphone 4 Speech is transcribed to text in real-time 5 When user stops speaking, final transcript is captured 6 Transcript is automatically sent to avatar via <code>sendText()</code>"},{"location":"how-it-works/#flow-4-closing-a-session","title":"Flow 4: Closing a Session","text":"<p>When the user clicks \"Close Session\":</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  User    \u2502    \u2502    Frontend     \u2502    \u2502     Backend     \u2502    \u2502  HeyGen API  \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502 Click \"Close\"     \u2502                      \u2502                     \u2502\n     \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502 POST /session/stop   \u2502                     \u2502\n     \u2502                   \u2502 {session_id}         \u2502                     \u2502\n     \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502 POST /streaming.stop\u2502\n     \u2502                   \u2502                      \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502                      \u2502    {success}        \u2502\n     \u2502                   \u2502                      \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502    {success}         \u2502                     \u2502\n     \u2502                   \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                     \u2502\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502                   \u2502 Disconnect LiveKit   \u2502                     \u2502\n     \u2502                   \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\n     \u2502                   \u2502                      \u2502                     \u2502\n     \u2502  UI resets        \u2502                      \u2502                     \u2502\n     \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                      \u2502                     \u2502\n</code></pre>"},{"location":"how-it-works/#why-close-sessions","title":"Why Close Sessions?","text":"<p>Save API Credits</p> <p>Always close sessions when done! Each active session consumes HeyGen API credits based on duration.</p>"},{"location":"technology-stack/","title":"Technology Stack","text":"<p>This page documents all technologies used in the project and why they were chosen.</p>"},{"location":"technology-stack/#overview","title":"Overview","text":"Layer Technology Purpose Backend Laravel 8.x (PHP) Web framework, API proxy Frontend Vanilla JavaScript UI interactions Video Streaming LiveKit WebRTC video/audio AI Avatar HeyGen API Avatar generation Speech Web Speech API Voice recognition"},{"location":"technology-stack/#backend-technologies","title":"Backend Technologies","text":""},{"location":"technology-stack/#php-73","title":"PHP 7.3+","text":"<p>Purpose: Server-side programming language</p> <p>Why PHP:</p> <ul> <li>Laravel is built on PHP</li> <li>Easy deployment on most hosting providers</li> <li>Good documentation and community support</li> </ul>"},{"location":"technology-stack/#laravel-8x","title":"Laravel 8.x","text":"<p>Purpose: PHP web framework</p> <p>Features Used:</p> Feature Usage Routing Define URL endpoints Controllers Handle business logic Configuration Manage environment variables HTTP Client Make API requests to HeyGen CSRF Protection Secure form submissions Blade Templates Render views <p>Why Laravel:</p> <ul> <li>Popular, well-documented framework</li> <li>Built-in HTTP client for API calls</li> <li>Easy configuration management</li> <li>Strong security features (CSRF, etc.)</li> </ul>"},{"location":"technology-stack/#guzzle-http-via-laravel","title":"Guzzle HTTP (via Laravel)","text":"<p>Purpose: HTTP client for API requests</p> <p>Usage: <pre><code>Http::withHeaders([\n    'Authorization' =&gt; 'Bearer ' . $token,\n])-&gt;post($url, $data);\n</code></pre></p> <p>Laravel's <code>Http</code> facade wraps Guzzle, providing a clean API for HTTP requests.</p>"},{"location":"technology-stack/#frontend-technologies","title":"Frontend Technologies","text":""},{"location":"technology-stack/#html5","title":"HTML5","text":"<p>Purpose: Page structure</p> <p>Features Used:</p> Feature Usage <code>&lt;video&gt;</code> Display avatar video stream <code>&lt;input&gt;</code> Text input fields <code>&lt;button&gt;</code> Interactive buttons Semantic elements Proper document structure"},{"location":"technology-stack/#css3","title":"CSS3","text":"<p>Purpose: Styling and layout</p> <p>Features Used:</p> Feature Usage CSS Variables Theme switching (dark/light mode) Flexbox Layout components Grid Page layout Transitions Smooth animations Media Queries Responsive design <p>CSS Variables Example: <pre><code>:root {\n    --bg-primary: #f5f5f5;\n}\n\n[data-theme=\"dark\"] {\n    --bg-primary: #0f0f0f;\n}\n</code></pre></p>"},{"location":"technology-stack/#vanilla-javascript-es6","title":"Vanilla JavaScript (ES6+)","text":"<p>Purpose: Frontend interactivity</p> <p>Why Vanilla JS (no framework):</p> <ul> <li>No build step required</li> <li>Simpler for demo purposes</li> <li>Faster page load</li> <li>Easier to understand</li> </ul> <p>Features Used:</p> Feature Usage <code>async/await</code> Asynchronous API calls <code>fetch()</code> HTTP requests Event listeners User interactions DOM manipulation UI updates <code>localStorage</code> Theme persistence"},{"location":"technology-stack/#external-services","title":"External Services","text":""},{"location":"technology-stack/#heygen-streaming-api","title":"HeyGen Streaming API","text":"<p>Purpose: AI avatar generation and control</p> <p>Endpoints Used:</p> Endpoint Purpose <code>/v1/streaming.new</code> Create session <code>/v1/streaming.start</code> Start streaming <code>/v1/streaming.task</code> Send text to avatar <code>/v1/streaming.stop</code> Stop session <p>Documentation: docs.heygen.com</p>"},{"location":"technology-stack/#livekit","title":"LiveKit","text":"<p>Purpose: Real-time video/audio streaming</p> <p>What is LiveKit: LiveKit is an open-source WebRTC platform for real-time communication. HeyGen uses LiveKit to stream the avatar video to your browser.</p> <p>How it's used:</p> <ol> <li>HeyGen returns LiveKit credentials (URL + access token)</li> <li>Frontend creates LiveKit Room</li> <li>Connects using provided credentials</li> <li>Subscribes to video/audio tracks</li> <li>Displays in HTML5 video element</li> </ol> <p>Library: <code>livekit-client.umd.min.js</code> (loaded from CDN)</p> <pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/livekit-client/dist/livekit-client.umd.min.js\"&gt;&lt;/script&gt;\n</code></pre> <p>Documentation: docs.livekit.io</p>"},{"location":"technology-stack/#browser-apis","title":"Browser APIs","text":""},{"location":"technology-stack/#web-speech-api","title":"Web Speech API","text":"<p>Purpose: Speech recognition (voice input)</p> <p>Browser Support:</p> Browser Support Chrome \u2705 Full Edge \u2705 Full Safari \u2705 Full Firefox \u26a0\ufe0f Limited <p>Usage: <pre><code>const SpeechRecognition = window.SpeechRecognition || \n                          window.webkitSpeechRecognition;\n\nconst recognition = new SpeechRecognition();\nrecognition.lang = 'en-US';\nrecognition.start();\n\nrecognition.onresult = (event) =&gt; {\n    const transcript = event.results[0][0].transcript;\n};\n</code></pre></p>"},{"location":"technology-stack/#mediastream-api","title":"MediaStream API","text":"<p>Purpose: Handle video/audio streams</p> <p>Usage: <pre><code>const mediaStream = new MediaStream();\nmediaStream.addTrack(videoTrack);\nvideoElement.srcObject = mediaStream;\n</code></pre></p>"},{"location":"technology-stack/#development-tools","title":"Development Tools","text":""},{"location":"technology-stack/#composer","title":"Composer","text":"<p>Purpose: PHP dependency management</p> <p>Commands: <pre><code>composer install    # Install dependencies\ncomposer update     # Update dependencies\n</code></pre></p>"},{"location":"technology-stack/#artisan-laravel-cli","title":"Artisan (Laravel CLI)","text":"<p>Purpose: Laravel command-line interface</p> <p>Common Commands:</p> Command Purpose <code>php artisan serve</code> Start development server <code>php artisan config:clear</code> Clear config cache <code>php artisan cache:clear</code> Clear application cache <code>php artisan key:generate</code> Generate app key"},{"location":"technology-stack/#architecture-decision-summary","title":"Architecture Decision Summary","text":"Decision Choice Reason Backend Framework Laravel Popular, well-documented, good HTTP client Frontend Framework None (Vanilla JS) Simplicity, no build step Video Streaming LiveKit HeyGen's choice, we just connect AI Service HeyGen Required for avatar functionality Voice Input Web Speech API Native browser API, no dependencies Theming CSS Variables Simple, no JS library needed"},{"location":"technology-stack/#dependency-list","title":"Dependency List","text":""},{"location":"technology-stack/#php-composerjson","title":"PHP (composer.json)","text":"<pre><code>{\n    \"require\": {\n        \"php\": \"^7.3|^8.0\",\n        \"laravel/framework\": \"^8.0\",\n        \"guzzlehttp/guzzle\": \"^7.0\"\n    }\n}\n</code></pre>"},{"location":"technology-stack/#javascript-cdn","title":"JavaScript (CDN)","text":"<pre><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/livekit-client/dist/livekit-client.umd.min.js\"&gt;&lt;/script&gt;\n</code></pre> <p>No npm dependencies required - all JavaScript is loaded from CDN or written inline.</p>"},{"location":"troubleshooting/","title":"Troubleshooting","text":"<p>This page helps you diagnose and fix common issues.</p>"},{"location":"troubleshooting/#quick-debug-checklist","title":"Quick Debug Checklist","text":"<p>Before diving into specific issues, run through this checklist:</p> <ul> <li>[ ] <code>.env</code> file exists and has <code>HEYGEN_API_TOKEN</code> set</li> <li>[ ] Ran <code>php artisan config:clear</code> after <code>.env</code> changes</li> <li>[ ] API token is valid and has credits</li> <li>[ ] Using Chrome or Edge browser</li> <li>[ ] Microphone permissions granted (for voice)</li> <li>[ ] Stable internet connection</li> </ul>"},{"location":"troubleshooting/#common-issues","title":"Common Issues","text":""},{"location":"troubleshooting/#failed-to-create-session","title":"\"Failed to create session\"","text":"<p>Symptoms:</p> <ul> <li>Error appears when clicking \"Start Session\"</li> <li>Status indicator stays on \"Connecting...\" then fails</li> </ul> <p>Possible Causes:</p> Cause Solution Invalid API token Check <code>HEYGEN_API_TOKEN</code> in <code>.env</code> No API credits Check HeyGen dashboard for credits Config cache Run <code>php artisan config:clear</code> Network issue Check internet connection <p>Debug Steps:</p> <ol> <li> <p>Verify token in <code>.env</code>:    <pre><code>HEYGEN_API_TOKEN=your_actual_token_here\n</code></pre></p> </li> <li> <p>Clear config cache:    <pre><code>php artisan config:clear\nphp artisan cache:clear\n</code></pre></p> </li> <li> <p>Check Laravel logs:    <pre><code>storage/logs/laravel.log\n</code></pre></p> </li> <li> <p>Run setup verification:    <pre><code>php check-setup.php\n</code></pre></p> </li> </ol>"},{"location":"troubleshooting/#speech-recognition-not-available","title":"\"Speech recognition not available\"","text":"<p>Symptoms:</p> <ul> <li>Microphone button is hidden or disabled</li> <li>Error when clicking microphone button</li> </ul> <p>Possible Causes:</p> Cause Solution Unsupported browser Use Chrome or Edge Permissions denied Allow microphone access Not HTTPS Use HTTPS in production <p>Debug Steps:</p> <ol> <li>Check browser support:</li> <li>Chrome: \u2705 Full support</li> <li>Edge: \u2705 Full support</li> <li>Safari: \u2705 Supported</li> <li> <p>Firefox: \u26a0\ufe0f Limited</p> </li> <li> <p>Check permissions:</p> </li> <li>Click the lock/info icon in address bar</li> <li> <p>Ensure microphone is \"Allow\"</p> </li> <li> <p>For production:</p> </li> <li>Must use HTTPS (browsers require it for mic access)</li> </ol>"},{"location":"troubleshooting/#video-not-showing","title":"Video not showing","text":"<p>Symptoms:</p> <ul> <li>Black video area</li> <li>Spinner keeps loading</li> <li>Status shows \"Connected\" but no video</li> </ul> <p>Possible Causes:</p> Cause Solution Autoplay blocked Click video to start LiveKit error Check browser console Network issue Stable internet required Session invalid Restart session <p>Debug Steps:</p> <ol> <li> <p>Click the video element (especially on mobile)</p> </li> <li> <p>Check browser console (F12 \u2192 Console):</p> </li> <li>Look for LiveKit errors</li> <li> <p>Check for track subscription issues</p> </li> <li> <p>Check network:</p> </li> <li>Stable connection required for WebRTC</li> <li> <p>Try different network if issues persist</p> </li> <li> <p>Restart session:</p> </li> <li>Close session</li> <li>Refresh page</li> <li>Start new session</li> </ol>"},{"location":"troubleshooting/#no-active-session","title":"\"No active session\"","text":"<p>Symptoms:</p> <ul> <li>Error when trying to send message</li> <li>Buttons remain disabled</li> </ul> <p>Cause: Trying to send message before session is created or after it expired.</p> <p>Solution:</p> <ol> <li>Click \"Start Session\" first</li> <li>Wait for \"Connected\" status</li> <li>Then send messages</li> </ol> <p>If session expired:</p> <ol> <li>Click \"Close Session\"</li> <li>Click \"Start Session\" again</li> </ol>"},{"location":"troubleshooting/#avatar-not-responding","title":"Avatar not responding","text":"<p>Symptoms:</p> <ul> <li>Message sent successfully</li> <li>Avatar doesn't speak</li> </ul> <p>Debug Steps:</p> <ol> <li>Check if video is playing:</li> <li>Video should be visible and not frozen</li> <li> <p>Audio should not be muted</p> </li> <li> <p>Unmute video:</p> </li> <li>Click on video to unmute</li> <li> <p>Check browser's audio settings</p> </li> <li> <p>Check task response:</p> </li> <li>Open browser console (F12)</li> <li>Check network tab for <code>/avatar/task</code> response</li> <li>Should return <code>{\"success\": true}</code></li> </ol>"},{"location":"troubleshooting/#debug-tools","title":"Debug Tools","text":""},{"location":"troubleshooting/#browser-console","title":"Browser Console","text":"<p>How to open: Press <code>F12</code> \u2192 Click \"Console\" tab</p> <p>What to look for:</p> <pre><code>// Success messages\nRoom connected successfully\nTrack subscribed: video\nVideo playing successfully\n\n// Error messages\nSpeech recognition error: not-allowed\nFailed to create session: Error message\n</code></pre>"},{"location":"troubleshooting/#laravel-logs","title":"Laravel Logs","text":"<p>Location: <code>storage/logs/laravel.log</code></p> <p>What to look for:</p> <pre><code>[2024-01-15 10:30:00] local.ERROR: HeyGen session creation failed\n{\"status\":401,\"body\":\"Unauthorized\"}\n\n[2024-01-15 10:35:00] local.ERROR: Exception in createSession\n{\"message\":\"Connection refused\"}\n</code></pre>"},{"location":"troubleshooting/#network-tab","title":"Network Tab","text":"<p>How to open: Press <code>F12</code> \u2192 Click \"Network\" tab</p> <p>What to check:</p> Request Expected Status <code>/avatar/session/create</code> 200 <code>/avatar/task</code> 200 <code>/avatar/session/stop</code> 200 <p>If status is not 200, click the request to see error details.</p>"},{"location":"troubleshooting/#setup-verification-script","title":"Setup Verification Script","text":"<pre><code>php check-setup.php\n</code></pre> <p>Checks performed:</p> <ul> <li><code>.env</code> file exists</li> <li>HeyGen configuration set</li> <li>Required files exist</li> <li>Routes configured</li> <li>PHP version compatible</li> <li>Dependencies installed</li> </ul>"},{"location":"troubleshooting/#error-messages-reference","title":"Error Messages Reference","text":"Error Message Meaning Solution \"Failed to create session\" Can't connect to HeyGen Check API token and credits \"No active session\" Session not started Click \"Start Session\" first \"Speech recognition not available\" Browser doesn't support Use Chrome/Edge \"Microphone access denied\" Permission blocked Allow in browser settings \"Failed to send message\" Session issue Restart session \"Video playback error\" Stream problem Refresh and try again"},{"location":"troubleshooting/#getting-help","title":"Getting Help","text":"<p>If issues persist:</p> <ol> <li>Check browser console for detailed errors</li> <li>Check Laravel logs for backend errors</li> <li>Verify HeyGen dashboard for API status/credits</li> <li>Review this documentation for setup issues</li> </ol>"},{"location":"troubleshooting/#useful-links","title":"Useful Links","text":"<ul> <li>HeyGen Documentation</li> <li>HeyGen Status</li> <li>LiveKit Docs</li> <li>Laravel Docs</li> </ul>"}]}